<!-- "globalController as ctrl" should be defined ahead -->
<div id="quoteModal" class="modal fade" role="dialog">
	<div class="modal-dialog">
		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">Quote </h4>
			</div>
			<div class="modal-body form-horizontal">
				<dl>
					<dt>Product Name</dt>
					<dd>{{modal_product.name}}</dd>
					<dt>Product Image</dt>
					<dd><img class="img-thumbnail img-responsive" alt="{{modal_product.name}}" ng-src="{{modal_product.image}}"></dd>
					<dt>My Demanding Price</dt>
					<dd>{{modal_product.demanding_price}}</dd>
				</dl>
				<form role="form" ng-submit="ctrl.updateSale(modal_product, sale)" ng-init="sale.buyer_id = -1">
					<div class="form-group">
						<div class="radio col-xs-offset-1" ng-repeat="order in modal_product.buyList | filter : {'buyer_id': '', 'transaciton_status': 'pending'} | orderBy : '-offering_price'">
							<input type="radio" name="quoteModal-order" id ="{{$index}}" ng-model="sale.buyer_id" ng-value="order.buyer_id"><label for="{{$index}}">ID: {{order.buyer_id}} Offering Price: {{order.offering_price | currency}}</label>
						</div>
					</div>
					<div class="form-group">
						<div class="col-xs-12 col-sm-12">
							<div class="btn-group btn-group-xs pull-right">
								<input type="submit" class="btn btn-success" ng-click="sale.product_status = 'sold'" value="Confirm">
								<input type="submit" class="btn btn-danger" ng-click="sale.product_status = 'deleted'" value="Delete Sale">
								<input type="button" class="btn btn-default" data-dismiss="modal" value="Back">
							</div>
						</div>
					</div>
				</form> 
			</div>
		</div>
	</div>
</div>