<!-- "globalController as ctrl" should be defined ahead -->
<div id="orderModal" class="modal fade" role="dialog">
	<div class="modal-dialog">
		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">Order </h4>
			</div>
			<div class="modal-body">
				<dl>
					<dt>Product Name</dt>
					<dd>{{modal_product.name}}</dd>
					<dt>Product Image</dt>
					<dd><img class="img-thumbnail img-responsive" alt="{{modal_product.name}}" ng-src="{{modal_product.image}}"></dd>
					<dt>Seller Demanding Price</dt>
					<dd>{{modal_product.demanding_price | currency}}</dd>
					<dt ng-show="modal_product.buyList.length != 0">My Last Offering Price</dt>
					<dd ng-show="modal_product.buyList.length != 0">{{modal_product.buyList[0].offering_price | currency}}</dd>
				</dl>
				<form role="form" ng-submit="ctrl.updateOrder(modal_product, order)">
					<label class="sr-only" for="orderModal-price">My New Offering Price</label> 
					<div class="input-group"> 
						<span class="input-group-addon">$</span>
						<input type="number" step="0.01" class="form-control input-sm" id="orderModal-price" placeholder="My New Offering Price" autofocus ng-model="order.offering_price">
					</div>
					<div class="form-group">
						<div class="col-xs-12 col-sm-12">
							<div class="btn-group btn-group-xs pull-right">
								<input type="submit" class="btn btn-success" ng-class="{disabled: user._id == null}" ng-click="order.transaction_status = 'pending'" value="Submit">
								<input type="submit" class="btn btn-danger btn-xs" ng-class="{disabled: user._id == null}" ng-click="order.transaction_status = 'closed'" value="Close Order">
								<input type="button" class="btn btn-default btn-xs" data-dismiss="modal" value="Back">
							</div>
						</div>
					</div>
				</form> 
			</div>
		</div>
	</div>
</div>